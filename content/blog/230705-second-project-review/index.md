---
title: 두 번째 프로젝트 회고
date: "2023-07-10T22:12:00.000Z"
description: 두 번째 프로젝트를 마치며 느낀 4가지
category: essay
---

## 1. pinia와 typescript의 도입

이번 프로젝트(커머스)에서 드디어 벼르고 벼르어왔던 기술을 도입하게 되었다. 바로 `typescript`와 `pinia`이다.

원래는 더 빨리 도입하고 싶었으나, 이전 프로젝트가 생각보다 늘어짐 + 숙련도 이슈로 인하여 늦어진 감이 있다. 하지만 그만큼 더 철저하게 준비해서 도입 안하느니만 못한 상황이 벌어지지 않게끔 신경썼다. 여기서 '도입 안하느니만 못한 상황'이란 기껏 타입스크립트 도입해놓고 모든 타입을 `any`로 정의한다든가, 에러 해결을 못해서 `js`로 회귀한다든가 하는 상황이다. 도입 초반부에는 이런 일이 실제로 벌어질 위기가 몇 번 있었으나, 그때마다 구글링하고 공식문서 열심히 읽다보니 어찌어찌 해결은 할 수 있었다.

도입해놓고 나서 느낀 점은 확실히 타입스크립트가 개발경험을 엄청나게 개선시켜준다. VScode에서 제공해주는 자동완성 기능을 맛보면 헤어나올 수가 없다. 특히나 내가 진행한 커머스는 그 특성상 프론트에서 다뤄야할 데이터가 많다. 하나의 상품 데이터 하나에도 그 속성이 20개가 넘고, 이 상품을 주문 로직을 태우려면 또 다시 주문을 위한 데이터 20여개가 추가된다.

기존 `js`로 개발을 했다면 40개가 넘는 데이터 중에서 하나라도 오타가 나거나 타입이 어긋나면 직접 시연해보며 그 에러를 찾는데 시간이 잡아먹혔겠지만, `ts`를 사용함으로써 런타임 이전 시점에 어디서 문제가 생기는지 쉽게 찾을 수 있게 되었다.  
왜 사람들이 `ts`를 제대로 쓸 줄 알기 시작하면 쓰기 이전으로 돌아갈 수 없다고 말하는지 깨달았다. 아직 내가 '제대로 쓴다'라고 말하기엔 어설프긴 하다만, `ts`학습 허들의 고비점은 넘긴 느낌이다.

또 다른 기술 도입은 `pinia`이다. `pinia`는 vue 커뮤니티에서 출시한 `vuex`를 대신할 새로운 전역 상태관리 라이브러리이다. 사실 `vuex`를 대신한다고는 해도, 그 개발진 대부분이 옮겨간 수준이라 크게 달라진 점은 없다.  
기존 `vuex`를 사용하면서 느꼈던 불편한 점들, 그리고 `ts`와의 호환성 증대로 인하여 서로의 시너지를 극대화시킬 수 있다는 장점이 있다.

`pinia`에 대한 도입기는 [이전 포스팅](https://juheon.dev/vue/230704-start-pinia/)에 자세히 적어놓았다.

## 2. 페이지 / 컴포넌트 구조에 대한 고민

프로젝트의 규모가 커질수록 페이지,컴포넌트,함수의 개수가 많아지게 된다. 그러면 자연스레 이 파일들을 어떤 단위로 나눠야 효율적인지 고민하게 된다.

## 3. 셀프 코드리뷰(클린 코드)

셀프 코드리뷰라는 말이 좀 우스울 수 있다. 하지만 회사에 프론트 개발자가 나 혼자밖에 없으니 누군가에게 코드 리뷰를 부탁하기 어려운 상황이다. 그래서 나는 회사에 다니는 동안 '좋은 코드'란 무엇일까에 대해 고민을 많이 할 수밖에 없었다. 그래서 내가 생각한 '좋은 코드'의 정의 3가지는,

> 1. 몇년 뒤에 다른 사람이 읽어도 자연스럽게 읽혀지는 코드

지금 코드를 짜고 있는 내 입장에서는 당연히 코드가 잘 읽힌다.  
 왜냐하면 1. 내가 짰고 2. 방금 짰고 3. 코드를 작성해온 컨텍스트 가 있기 때문이다. 반대로 얘기하면, 위 3가지가 없으면 이 코드는 이해할 수 없는 코드가 되어버린다. 즉 '다른 사람이 오래전에 짜놓고 컨텍스트를 모르는 코드'가 이에 해당된다.

> 2. 버그가 발생했을 때, 어느 부분을 고쳐야 하는지 직관적으로 찾을 수 있는 코드

버그가 발생하지 않는 방향으로 코드를 작성하는 게 가장 바람직하겠지만, 신이 아니라면 코드를 작성하다 보면 버그 발생은 불가피하다. 버그가 발생하지 않도록 하는 일만큼 중요한 게 '버그를 얼마나 쉽게 고칠 수 있느냐'이다.

대개 해결하기 어려운 버그들의 공통점은 하나의 코드 안에서 여러 로직들이 이어폰줄처럼 엉켜있을 때 발생한다. 어떤 부분을 고치면, 이곳에 의존하고 있던 또 다른 함수에게 사이드이펙트가 전파될 수도 있다.

> 3. 한 번에 한 가지만 신경쓰는 코드

세 번째 정의가 어쩌면 첫 번째, 두 번째 정의를 만족시키기 위한 대전제일 수 있다.

일단 코드를 작성하기 전에, 내가 생각하는 가장 이상적인 형태의 코드를 미리 머릿속에 떠올려본다.

## 4. 효율적인 업무 방식

마지막은 개발 외적인 이야기이다. [첫 번재 프로젝트 회고](https://juheon.dev/230625-project-review/)에서도 언급했다시피 프로젝트에서 가장 어려운 문제는 개발이 아니라 사람과 사람간의 소통의 문제인 경우가 더 많다. 그래서 이번 프로젝트에서는 내가 선제적으로 어떻게해야 조금 더 효율적으로 일할 수 있을 지에 대해서 먼저 고민해보았다.

첫 번째는 기획자와의 소통이다.  
내가기획자에게 가장 많이 물어본 질문은 아마 '나중에 이 기능이 추가될 수도 있나요?'

두 번째는 디자이너와의 소통이다.

세 번째는 백엔드 개발자와의 소통이다.
